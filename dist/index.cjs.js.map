{"version":3,"file":"index.cjs.js","sources":["../src/firebaseConfig.tsx","../src/radio/assets/music.svg","../src/radio/assets/pause.svg","../src/radio/assets/play.svg","../src/radio/assets/volume-2.svg","../src/radio/assets/volume-x.svg","../src/radio/assets/radio.svg?react","../src/radio/apis/index.ts","../src/radio/utils/index.ts","../src/radio/assets/default_playlist.jpg","../src/radio/ui/safe-image.tsx","../src/radio/ui/live-clock.tsx","../src/radio/RadioWidget.tsx"],"sourcesContent":["import { useMemo } from \"react\";\r\nimport { initializeApp, getApps, getApp, type FirebaseApp } from \"firebase/app\";\r\nimport { getDatabase, Database } from \"firebase/database\";\r\nimport { getStorage, type FirebaseStorage } from \"firebase/storage\";\r\nimport { getFirestore, type Firestore } from \"firebase/firestore\"\r\n\r\nexport interface FirebaseConfig {\r\n  apiKey: string;\r\n  authDomain: string;\r\n  databaseURL?: string;\r\n  projectId: string;\r\n  storageBucket?: string;\r\n  messagingSenderId?: string;\r\n  appId: string;\r\n}\r\n\r\nexport interface FirebaseInstances {\r\n  app: FirebaseApp;\r\n  database: Database;\r\n  storage: FirebaseStorage;\r\n}\r\n\r\nexport const firebaseConfig: {\r\n  apiKey: string;\r\n  authDomain: string;\r\n  databaseURL: string;\r\n  projectId: string;\r\n  storageBucket: string;\r\n  messagingSenderId: string;\r\n  appId: string;\r\n  measurementId: string;\r\n} = {\r\n  apiKey: import.meta.env.VITE_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: import.meta.env.VITE_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: import.meta.env.VITE_PUBLIC_FIREBASE_DATABASE_URL,\r\n  projectId: import.meta.env.VITE_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: import.meta.env.VITE_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: import.meta.env.VITE_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: import.meta.env.VITE_PUBLIC_FIREBASE_APP_ID,\r\n  measurementId: import.meta.env.VITE_PUBLIC_FIREBASE_MEASUREMENT_ID,\r\n};\r\n\r\nexport const useFirebaseServices = (config: FirebaseConfig): FirebaseInstances & { realtimeDb: Database; firestoreDb: Firestore } => {\r\n  const firebaseInstances = useMemo(() => {\r\n    if (!config?.apiKey) {\r\n      throw new Error(\"Missing Firebase configuration\");\r\n    }\r\n\r\n    // âœ… Ensure Firebase app initializes only once\r\n    const app = getApps().length ? getApp() : initializeApp(config);\r\n    const database = getDatabase(app);\r\n    const storage = getStorage(app);\r\n    const realtimeDb = getDatabase(app);\r\n    const firestoreDb = getFirestore(app);\r\n\r\n    console.log(\"âœ… Firebase initialized:\", app.name);\r\n\r\n    return { app, database, storage ,realtimeDb,firestoreDb};\r\n  }, [config]);\r\n\r\n  return firebaseInstances;\r\n};\r\n","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-music-icon%20lucide-music'%3e%3cpath%20d='M9%2018V5l12-2v13'/%3e%3ccircle%20cx='6'%20cy='18'%20r='3'/%3e%3ccircle%20cx='18'%20cy='16'%20r='3'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-pause-icon%20lucide-pause'%3e%3crect%20x='14'%20y='3'%20width='5'%20height='18'%20rx='1'/%3e%3crect%20x='5'%20y='3'%20width='5'%20height='18'%20rx='1'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-play-icon%20lucide-play'%3e%3cpath%20d='M5%205a2%202%200%200%201%203.008-1.728l11.997%206.998a2%202%200%200%201%20.003%203.458l-12%207A2%202%200%200%201%205%2019z'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-volume2-icon%20lucide-volume-2'%3e%3cpath%20d='M11%204.702a.705.705%200%200%200-1.203-.498L6.413%207.587A1.4%201.4%200%200%201%205.416%208H3a1%201%200%200%200-1%201v6a1%201%200%200%200%201%201h2.416a1.4%201.4%200%200%201%20.997.413l3.383%203.384A.705.705%200%200%200%2011%2019.298z'/%3e%3cpath%20d='M16%209a5%205%200%200%201%200%206'/%3e%3cpath%20d='M19.364%2018.364a9%209%200%200%200%200-12.728'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-volume-x-icon%20lucide-volume-x'%3e%3cpath%20d='M11%204.702a.705.705%200%200%200-1.203-.498L6.413%207.587A1.4%201.4%200%200%201%205.416%208H3a1%201%200%200%200-1%201v6a1%201%200%200%200%201%201h2.416a1.4%201.4%200%200%201%20.997.413l3.383%203.384A.705.705%200%200%200%2011%2019.298z'/%3e%3cline%20x1='22'%20x2='16'%20y1='9'%20y2='15'/%3e%3cline%20x1='16'%20x2='22'%20y1='9'%20y2='15'/%3e%3c/svg%3e\"","import * as React from \"react\";\nconst SvgRadio = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", stroke: \"currentColor\", strokeWidth: 2, strokeLinecap: \"round\", strokeLinejoin: \"round\", className: \"lucide lucide-radio-icon lucide-radio\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M16.247 7.761a6 6 0 0 1 0 8.478\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M19.075 4.933a10 10 0 0 1 0 14.134\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M4.925 19.067a10 10 0 0 1 0-14.134\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M7.753 16.239a6 6 0 0 1 0-8.478\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 12, cy: 12, r: 2 }));\nexport default SvgRadio;\n","export async function getChannels(includeAll = false) {\r\n  try {\r\n    const response = await fetch(\r\n      `${import.meta.env.VITE_API_BASE_URL}/talradio/channels?includeAll=${includeAll}`,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching channels:\", error);\r\n    throw error;\r\n  }\r\n}\r\n","export function checkDefaultChannel(\r\n  currentChannel: string | null = null\r\n): string {\r\n  switch (currentChannel) {\r\n    case \"telugu\":\r\n      return \"telugu\";\r\n    case \"hindi\":\r\n      return \"hindi\";\r\n    case \"talradio\":\r\n      return \"english\";\r\n    case \"kannada\":\r\n      return \"kannada\";\r\n    default:\r\n      return \"all\";\r\n  }\r\n}","export default \"data:image/jpeg;base64,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\"","import React, { useState, useEffect } from \"react\";\r\nimport playlistItemImage from \"../assets/default_playlist.jpg\" // âœ… imported fallback image\r\n\r\ninterface SafeImageProps {\r\n  src?: string;\r\n  fallback?: string;\r\n  alt?: string;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\nconst SafeImage: React.FC<SafeImageProps> = ({\r\n  src,\r\n  fallback = playlistItemImage, // âœ… use imported default image\r\n  alt = \"image\",\r\n  className,\r\n  style,\r\n}) => {\r\n  const [imgSrc, setImgSrc] = useState(src || fallback);\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  // Update when src changes\r\n  useEffect(() => {\r\n    if (src) {\r\n      setImgSrc(src);\r\n      setLoaded(false);\r\n    } else {\r\n      setImgSrc(fallback);\r\n    }\r\n  }, [src, fallback]);\r\n\r\n  const handleError = () => {\r\n    if (imgSrc !== fallback) {\r\n      setImgSrc(fallback);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <img\r\n      src={imgSrc}\r\n      alt={alt}\r\n      onError={handleError}\r\n      onLoad={() => setLoaded(true)}\r\n      className={`${className || \"\"} ${\r\n        loaded ? \"opacity-100\" : \"opacity-0\"\r\n      } transition-opacity duration-500`}\r\n      style={style}\r\n      loading=\"lazy\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default SafeImage;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\n\r\nconst LiveClock: React.FC = () => {\r\n  const [seconds, setSeconds] = useState<number>(new Date().getSeconds());\r\n  const [baseTime, setBaseTime] = useState<Date>(new Date());\r\n\r\n  // Update every second\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      const now = new Date();\r\n      setSeconds(now.getSeconds());\r\n\r\n      // Update the base time every minute (to refresh hours/minutes)\r\n      if (now.getSeconds() === 0) {\r\n        setBaseTime(now);\r\n      }\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  // Format time and date â€” memoized to avoid recomputation\r\n  const formattedTime = useMemo(\r\n    () =>\r\n      baseTime.toLocaleTimeString(\"en-US\", {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        hour12: true,\r\n      }),\r\n    [baseTime]\r\n  );\r\n\r\n  const formattedDate = useMemo(\r\n    () =>\r\n      baseTime.toLocaleDateString(\"en-US\", {\r\n        weekday: \"short\",\r\n        day: \"2-digit\",\r\n        month: \"short\",\r\n        year: \"numeric\",\r\n      }),\r\n    [baseTime]\r\n  );\r\n\r\n  // Extract hour, minute, and AM/PM\r\n  const [hourMinute, period] = formattedTime.split(\" \");\r\n  const [hours, minutes] = hourMinute.split(\":\");\r\n\r\n  return (\r\n    <div className=\"flex justify-between items-center mt-2 text-[11px] text-gray-500 font-mono\">\r\n      {/* Left: Date */}\r\n      <span>{formattedDate}</span>\r\n\r\n      {/* Right: Clock */}\r\n      <div className=\"flex items-center gap-1\">\r\n        {/* ðŸ”´ Live indicator */}\r\n        <span className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></span>\r\n\r\n        {/* Time display */}\r\n        <div className=\"flex items-baseline text-gray-700 font-semibold\">\r\n          <span>{hours}</span>\r\n\r\n          {/* Smooth pulsing colon */}\r\n          <span\r\n            className=\"mx-[2px] text-gray-700 animate-[pulse_2s_ease-in-out_infinite]\"\r\n            style={{\r\n              animationName: \"pulse\",\r\n              animationDuration: \"2s\",\r\n              animationIterationCount: \"infinite\",\r\n              animationTimingFunction: \"ease-in-out\",\r\n            }}\r\n          >\r\n            :\r\n          </span>\r\n\r\n          <span>{minutes}</span>\r\n          <span>:</span>\r\n          {/* Seconds */}\r\n          <span className=\"ml-1 text-[10px] text-gray-600\">\r\n            {seconds.toString().padStart(2, \"0\")}\r\n          </span>\r\n          {/* AM/PM */}\r\n          <span className=\"ml-1 text-[10px] opacity-80\">{period}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Keyframes for smooth colon fade */}\r\n      <style>\r\n        {`\r\n          @keyframes pulse {\r\n            0%, 100% { opacity: 1; }\r\n            50% { opacity: 0.2; }\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LiveClock;\r\n","\"use client\";\r\n\r\nimport React, { useState, useEffect, useRef, ChangeEvent } from \"react\";\r\nimport {\r\n    ref,\r\n    onValue,\r\n    off,\r\n    get,\r\n    remove,\r\n    DatabaseReference,\r\n} from \"firebase/database\";\r\nimport { useFirebaseServices } from \"../firebaseConfig\";\r\n\r\nimport Music from \"./assets/music.svg\";\r\nimport Pause from \"./assets/pause.svg\";\r\nimport Play from \"./assets/play.svg\";\r\nimport Volume2 from \"./assets/volume-2.svg\";\r\nimport VolumeX from \"./assets/volume-x.svg\";\r\nimport Radio from \"./assets/radio.svg?react\";\r\nimport { getChannels } from \"./apis\";\r\nimport { checkDefaultChannel } from \"./utils\";\r\nimport SafeImage from \"./ui/safe-image\";\r\nimport LiveClock from \"./ui/live-clock\";\r\nimport \"./RadioWidget.css\";\r\n\r\ninterface Channel {\r\n    _id: string;\r\n    name: string;\r\n    isDefault?: boolean;\r\n    isLive?: boolean;\r\n    voiceCommandLabel?: string;\r\n}\r\n\r\ninterface StreamingData {\r\n    title?: string;\r\n    thumbnailUrl?: string;\r\n    downloadUrl?: string;\r\n    rjUserId?: string;\r\n    producer?: string;\r\n}\r\n\r\ninterface AudioProps {\r\n    firebaseConfig: any;\r\n    ShowLiveChannelsOnly?: boolean;\r\n    match?: {\r\n        params?: {\r\n            defaultChannel?: string;\r\n        };\r\n    };\r\n}\r\n\r\nconst LiveRadioWidget: React.FC<AudioProps> = ({ firebaseConfig }) => {\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [channel, setChannel] = useState<string | null>(null);\r\n    const [channels, setChannels] = useState<Channel[]>([]);\r\n    const [talmediaLanguage, setTalmediaLanguage] = useState(\"\");\r\n    const sliderRef = useRef<HTMLInputElement | null>(null);\r\n\r\n    const [volume, setVolume] = useState(0.5);\r\n    const [mute, setMute] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const [currentStreaming, setCurrentStreaming] =\r\n        useState<StreamingData | null>(null);\r\n\r\n    const previousCurrentStreamingRef = useRef<DatabaseReference | null>(null);\r\n    const previousChannelRef = useRef<string | null>(null);\r\n    const listenerIdRef = useRef<string | null>(null);\r\n\r\n    const audioRef = useRef<HTMLAudioElement | null>(null);\r\n\r\n    const { realtimeDb, database } = useFirebaseServices(firebaseConfig);\r\n\r\n    // ----------------------------\r\n    // GLOBAL NOW PLAYING LOG\r\n    // ----------------------------\r\n    useEffect(() => {\r\n        const dataRef = ref(database, \"radio/nowPlaying\");\r\n        const unsub = onValue(dataRef, (snapshot) => {\r\n            console.log(\"Now playing:\", snapshot.val());\r\n        });\r\n\r\n        return () => off(dataRef);\r\n    }, [database]);\r\n\r\n    // ----------------------------\r\n    // CHANGE CHANNEL\r\n    // ----------------------------\r\n    const handleChangeChannel = (newChannel: string | null) => {\r\n        setTalmediaLanguage(checkDefaultChannel(newChannel));\r\n        setChannel(newChannel);\r\n    };\r\n\r\n    // ----------------------------\r\n    // LOAD + PLAY STREAMING WITH SEEK\r\n    // ----------------------------\r\n    const fetchAudioAndPlay = async (playFromSeek: boolean) => {\r\n        const audio = audioRef.current;\r\n        if (!audio || !currentStreaming?.downloadUrl) return;\r\n\r\n        audio.pause();\r\n\r\n        if (audio.src !== currentStreaming.downloadUrl) {\r\n            audio.src = currentStreaming.downloadUrl;\r\n            audio.load();\r\n        }\r\n\r\n        const playAudio = () => {\r\n            if (isPlaying) {\r\n                audio\r\n                    .play()\r\n                    .catch((err) => console.warn(\"Audio play failed:\", err));\r\n            }\r\n        };\r\n\r\n        if (playFromSeek) {\r\n            try {\r\n                const seekRef = ref(realtimeDb, `/seekTime/${channel}`);\r\n                const snapshot = await get(seekRef);\r\n\r\n                if (snapshot.exists() && isPlaying) {\r\n                    audio.currentTime = snapshot.val() || 0;\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Seek fetch error:\", error);\r\n            }\r\n        } else {\r\n            audio.currentTime = 0;\r\n        }\r\n\r\n        playAudio();\r\n    };\r\n\r\n    // ----------------------------\r\n    // PLAY / PAUSE CONTROL\r\n    // ----------------------------\r\n    useEffect(() => {\r\n        const audio = audioRef.current;\r\n        if (!audio) return;\r\n\r\n        isPlaying\r\n            ? audio.play().catch(() => { })\r\n            : audio.pause();\r\n    }, [isPlaying]);\r\n\r\n    // ----------------------------\r\n    // STREAMING LISTENER\r\n    // ----------------------------\r\n    const channelHandler = (channelName: string) => {\r\n        const selected = channels.find((each) => each.name === channelName);\r\n        if (!selected) return;\r\n\r\n        const refPath = ref(\r\n            realtimeDb,\r\n            `/currentStreaming/${selected.name}`\r\n        );\r\n\r\n        if (previousCurrentStreamingRef.current)\r\n            off(previousCurrentStreamingRef.current);\r\n\r\n        onValue(refPath, (snapshot) => {\r\n            if (snapshot.exists()) {\r\n                setCurrentStreaming(snapshot.val());\r\n            } else {\r\n                setCurrentStreaming({\r\n                    title: \"Offline\",\r\n                    thumbnailUrl: \"\",\r\n                });\r\n            }\r\n        });\r\n\r\n        previousCurrentStreamingRef.current = refPath;\r\n    };\r\n\r\n    // ----------------------------\r\n    // LOAD CHANNEL LIST\r\n    // ----------------------------\r\n    const loadChannels = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            const response = await getChannels();\r\n            setIsLoading(false);\r\n\r\n            if (Array.isArray(response?.data)) {\r\n                setChannels(response.data);\r\n            }\r\n        } catch (err) {\r\n            setIsLoading(false);\r\n            console.error(\"Error fetching channels:\", err);\r\n        }\r\n    };\r\n\r\n    // ----------------------------\r\n    // DEFAULT CHANNEL\r\n    // ----------------------------\r\n    const decideDefaultChannel = () => {\r\n        if (!channel && channels.length > 0) {\r\n            const found = channels.find((ch) => ch.isDefault);\r\n            if (found) {\r\n                setTalmediaLanguage(checkDefaultChannel(found.name));\r\n                setChannel(found.name);\r\n            }\r\n        }\r\n    };\r\n\r\n    // ----------------------------\r\n    // ON CHANNEL CHANGE\r\n    // ----------------------------\r\n    useEffect(() => {\r\n        if (channel) channelHandler(channel);\r\n    }, [channel]);\r\n\r\n    // ----------------------------\r\n    // INITIAL LOAD\r\n    // ----------------------------\r\n    useEffect(() => {\r\n        loadChannels();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (channels.length > 0) decideDefaultChannel();\r\n\r\n        return () => {\r\n            if (previousCurrentStreamingRef.current)\r\n                off(previousCurrentStreamingRef.current);\r\n\r\n            const audio = audioRef.current;\r\n            if (audio) audio.pause();\r\n        };\r\n    }, [channels]);\r\n\r\n    // ----------------------------\r\n    // ON STREAMING CHANGE â†’ PLAY\r\n    // ----------------------------\r\n    useEffect(() => {\r\n        if (!currentStreaming?.downloadUrl) return;\r\n\r\n        const channelChanged =\r\n            previousChannelRef.current !== channel;\r\n\r\n        fetchAudioAndPlay(channelChanged);\r\n\r\n        previousChannelRef.current = channel;\r\n    }, [currentStreaming]);\r\n\r\n    // ----------------------------\r\n    // VOLUME\r\n    // ----------------------------\r\n    useEffect(() => {\r\n        if (audioRef.current) audioRef.current.volume = volume;\r\n    }, [volume]);\r\n    useEffect(() => {\r\n        if (sliderRef.current) {\r\n            sliderRef.current.style.setProperty(\"--fill\", `${volume * 100}%`);\r\n        }\r\n    }, [])\r\n    // ----------------------------\r\n    // BEFORE UNLOAD â†’ REMOVE LISTENER\r\n    // ----------------------------\r\n    useEffect(() => {\r\n        const handler = (event: BeforeUnloadEvent) => {\r\n            if (isPlaying && listenerIdRef.current && channel) {\r\n                const listenerRef = ref(\r\n                    realtimeDb,\r\n                    `/talRadioCurrentListeners/${channel}/${listenerIdRef.current}`\r\n                );\r\n                remove(listenerRef).catch(() => { });\r\n                event.preventDefault();\r\n                event.returnValue = \"\";\r\n            }\r\n        };\r\n\r\n        window.addEventListener(\"beforeunload\", handler);\r\n        return () => window.removeEventListener(\"beforeunload\", handler);\r\n    }, [isPlaying, channel]);\r\n\r\n    // ----------------------------\r\n    // RENDER\r\n    // ----------------------------\r\n    return (\r\n        // <div className=\"w-full bg-white/30 backdrop-blur-md border border-white/40 rounded-2xl shadow-lg p-6 transition-all duration-300\">\r\n\r\n        //     {/* Header */}\r\n        //     <div className=\"flex items-center justify-between mb-5\">\r\n        //         <h2 className=\"text-sm font-semibold text-gray-800 flex items-center gap-2\">\r\n        //             <Radio className=\"h-5 w-5 text-green-500\" />\r\n        //             TALRadio â€“ Listen, Feel and Act!\r\n        //         </h2>\r\n        //     </div>\r\n\r\n        //     {/* Channel Selector */}\r\n        //     <div className=\"bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 mb-6 flex items-center justify-between\">\r\n        //         {isLoading ? (\r\n        //             <div className=\"w-full text-center text-xs text-gray-500 animate-pulse\">\r\n        //                 Loading languages...\r\n        //             </div>\r\n        //         ) : (\r\n        //             <div className=\"flex gap-2 justify-center px-3\">\r\n        //                 {[\"talradio\", \"hindi\", \"telugu\", \"kannada\"].map((lang) => (\r\n        //                     <button\r\n        //                         key={lang}\r\n        //                         onClick={() => handleChangeChannel(lang)}\r\n        //                         className={`px-3 py-[4px] text-[11px] rounded-full border transition-all duration-200 ${\r\n        //                             channel === lang\r\n        //                                 ? \"bg-purple-600 text-white border-purple-600\"\r\n        //                                 : \"bg-white text-gray-700 border-gray-300 hover:bg-purple-50\"\r\n        //                         }`}\r\n        //                     >\r\n        //                         {lang === \"talradio\"\r\n        //                             ? \"English\"\r\n        //                             : lang.charAt(0).toUpperCase() + lang.slice(1)}\r\n        //                     </button>\r\n        //                 ))}\r\n        //             </div>\r\n        //         )}\r\n        //     </div>\r\n\r\n        //     {/* Main */}\r\n        //     <div className=\"flex flex-col gap-3\">\r\n        //         {/* Title */}\r\n        //         <h3 className=\"flex items-center gap-2 text-[16px] font-semibold text-gray-900 truncate\">\r\n        //             <img src={Music} className=\"h-4 w-4\" />\r\n        //             <span className=\"truncate\">\r\n        //                 {currentStreaming?.title || \"Now Playing\"}\r\n        //             </span>\r\n        //         </h3>\r\n\r\n        //         <div className=\"flex items-center gap-6\">\r\n        //             {/* Thumbnail */}\r\n        //             <div className=\"relative\">\r\n        //                 <SafeImage\r\n        //                     src={currentStreaming?.thumbnailUrl}\r\n        //                     className=\"w-28 h-28 rounded-2xl border object-cover\"\r\n        //                 />\r\n\r\n        //                 {isPlaying && (\r\n        //                     <div className=\"absolute inset-0 bg-black/30 rounded-2xl flex items-center justify-center\">\r\n        //                         <div className=\"flex space-x-1\">\r\n        //                             {[0, 1, 2, 3].map((i) => (\r\n        //                                 <div\r\n        //                                     key={i}\r\n        //                                     className=\"w-1 h-5 bg-purple-400 rounded-full animate-bounce\"\r\n        //                                     style={{ animationDelay: `${i * 0.15}s` }}\r\n        //                                 />\r\n        //                             ))}\r\n        //                         </div>\r\n        //                     </div>\r\n        //                 )}\r\n        //             </div>\r\n\r\n        //             {/* Details */}\r\n        //             <div className=\"flex flex-col flex-1\">\r\n        //                 <p className=\"text-[12px] text-gray-600\">\r\n        //                     Producer: {currentStreaming?.producer || \"Unknown\"}\r\n        //                 </p>\r\n        //                 <p className=\"text-[12px] text-gray-600\">\r\n        //                     RJ: {currentStreaming?.rjUserId || \"Unknown\"}\r\n        //                 </p>\r\n\r\n        //                 <div className=\"flex items-center gap-3 mt-3\">\r\n        //                     {/* Player Buttons */}\r\n        //                     {isPlaying ? (\r\n        //                         <button\r\n        //                             onClick={() => setIsPlaying(false)}\r\n        //                             className=\"w-9 h-9 bg-red-100 text-red-600 rounded-full flex items-center justify-center\"\r\n        //                         >\r\n        //                             <img src={Pause} className=\"w-4 h-4\" />\r\n        //                         </button>\r\n        //                     ) : (\r\n        //                         <button\r\n        //                             onClick={() => setIsPlaying(true)}\r\n        //                             className=\"w-9 h-9 bg-green-100 text-green-600 rounded-full flex items-center justify-center\"\r\n        //                         >\r\n        //                             <img src={Play} className=\"w-4 h-4\" />\r\n        //                         </button>\r\n        //                     )}\r\n\r\n        //                     {/* Mute */}\r\n        //                     <button\r\n        //                         onClick={() => setMute((prev) => !prev)}\r\n        //                         className=\"p-2 rounded-full hover:bg-gray-100\"\r\n        //                     >\r\n        //                         <img\r\n        //                             src={mute ? VolumeX : Volume2}\r\n        //                             className=\"w-4 h-4\"\r\n        //                         />\r\n        //                     </button>\r\n\r\n        //                     {/* Volume Slider */}\r\n        //                     <input\r\n        //                         type=\"range\"\r\n        //                         min={0}\r\n        //                         max={1}\r\n        //                         step={0.01}\r\n        //                         value={volume}\r\n        //                         onChange={(e) => setVolume(parseFloat(e.target.value))}\r\n        //                         className=\"flex-1 custom-volume-slider\"\r\n        //                         style={{\r\n        //                             background: `linear-gradient(90deg, #a855f7 ${\r\n        //                                 volume * 100\r\n        //                             }%, #e5e7eb ${volume * 100}%)`,\r\n        //                         }}\r\n        //                     />\r\n        //                 </div>\r\n\r\n        //                 <LiveClock />\r\n        //             </div>\r\n        //         </div>\r\n        //     </div>\r\n\r\n        //     {/* Hidden Audio */}\r\n        //     <audio ref={audioRef} muted={mute} preload=\"auto\" loop />\r\n        // </div>\r\n\r\n        <div className=\"tal-radio-container\">\r\n\r\n            {/* Header */}\r\n            <div className=\"tal-header\">\r\n                <h2 className=\"tal-header-title\">\r\n                    <Radio className=\"h-5 w-5 text-green-500\" />\r\n                    TALRadio â€“ Listen, Feel and Act!\r\n                </h2>\r\n            </div>\r\n\r\n            {/* Channel Selector */}\r\n            <div className=\"tal-channel-box\">\r\n                {isLoading ? (\r\n                    <div className=\"text-xs\">Loading languages...</div>\r\n                ) : (\r\n                    <div style={{ display: \"flex\" }}>\r\n                        {[\"talradio\", \"hindi\", \"telugu\", \"kannada\"].map((lang) => (\r\n                            <button\r\n                                key={lang}\r\n                                onClick={() => handleChangeChannel(lang)}\r\n                                className={`tal-channel-btn ${channel === lang ? \"active\" : \"\"\r\n                                    }`}\r\n                            >\r\n                                {lang === \"talradio\"\r\n                                    ? \"English\"\r\n                                    : lang.charAt(0).toUpperCase() + lang.slice(1)}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Title */}\r\n            <h3 className=\"tal-title\">\r\n                <img src={Music} />\r\n                <span>{currentStreaming?.title || \"Now Playing\"}</span>\r\n            </h3>\r\n\r\n            {/* Main */}\r\n            <div className=\"tal-main\">\r\n\r\n                {/* Thumbnail */}\r\n                <div className=\"tal-thumb\">\r\n                    <SafeImage\r\n                        src={currentStreaming?.thumbnailUrl}\r\n                    />\r\n                    {isPlaying && (\r\n                        <div className=\"tal-equalizer\">\r\n                            {[0, 1, 2, 3].map((i) => (\r\n                                <div key={i} style={{ animationDelay: `${i * 0.15}s` }} />\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Details */}\r\n                <div className=\"tal-details\">\r\n                    <p className=\"tal-meta\">\r\n                        Producer: {currentStreaming?.producer || \"Unknown\"}\r\n                    </p>\r\n                    <p className=\"tal-meta\">\r\n                        RJ: {currentStreaming?.rjUserId || \"Unknown\"}\r\n                    </p>\r\n\r\n                    <div className=\"tal-controls\">\r\n                        {isPlaying ? (\r\n                            <button onClick={() => setIsPlaying(false)} className=\"tal-btn pause\">\r\n                                <img src={Pause} />\r\n                            </button>\r\n                        ) : (\r\n                            <button onClick={() => setIsPlaying(true)} className=\"tal-btn play\">\r\n                                <img src={Play} />\r\n                            </button>\r\n                        )}\r\n\r\n                        <button\r\n                            onClick={() => setMute(!mute)}\r\n                            className=\"tal-mute-btn\"\r\n                        >\r\n                            <img src={mute ? VolumeX : Volume2} />\r\n                        </button>\r\n\r\n                        <input\r\n                            ref={sliderRef}\r\n                            type=\"range\"\r\n                            min={0}\r\n                            max={1}\r\n                            step={0.01}\r\n                            value={volume}\r\n                            onChange={(e) => {\r\n                                const v = parseFloat(e.target.value);\r\n                                setVolume(v);\r\n                                e.target.style.setProperty(\"--fill\", `${v * 100}%`);\r\n                            }}\r\n                            className=\"custom-volume-slider\"\r\n                        />\r\n                    </div>\r\n\r\n                    <LiveClock />\r\n                </div>\r\n            </div>\r\n\r\n            <audio ref={audioRef} muted={mute} preload=\"auto\" loop />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LiveRadioWidget;\r\n"],"names":["useFirebaseServices","config","useMemo","app","getApps","getApp","initializeApp","database","getDatabase","storage","getStorage","realtimeDb","firestoreDb","getFirestore","Music","Pause","Play","Volume2","VolumeX","SvgRadio","props","React","getChannels","includeAll","response","error","checkDefaultChannel","currentChannel","playlistItemImage","SafeImage","src","fallback","alt","className","style","imgSrc","setImgSrc","useState","loaded","setLoaded","useEffect","handleError","jsx","LiveClock","seconds","setSeconds","baseTime","setBaseTime","timer","now","formattedTime","formattedDate","hourMinute","period","hours","minutes","jsxs","LiveRadioWidget","firebaseConfig","isPlaying","setIsPlaying","channel","setChannel","channels","setChannels","talmediaLanguage","setTalmediaLanguage","sliderRef","useRef","volume","setVolume","mute","setMute","isLoading","setIsLoading","currentStreaming","setCurrentStreaming","previousCurrentStreamingRef","previousChannelRef","listenerIdRef","audioRef","dataRef","ref","onValue","snapshot","off","handleChangeChannel","newChannel","fetchAudioAndPlay","playFromSeek","audio","playAudio","err","seekRef","get","channelHandler","channelName","selected","each","refPath","loadChannels","decideDefaultChannel","found","ch","channelChanged","handler","event","listenerRef","remove","Radio","lang","i","v"],"mappings":"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"}